(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e="6af93c0daeb0749c5631a37be0ef4bc8";async function n(t,n="metric"){let o=`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=${n}&appid=${e}`;try{const t=await fetch(o,{mode:"cors"});if(200==t.status)return await t.json();throw new Error(`Invalid query - ${t.message}`)}catch(t){throw t}}async function o(t,n="metric"){let o=`https://api.openweathermap.org/data/2.5/forecast?q=${t}&units=${n}&appid=${e}`;try{const t=await fetch(o,{mode:"cors"});if(200==t.status)return await t.json();throw new Error(`Invalid query - ${t.message}`)}catch(t){throw t}}const a=t.p+"db983a0922633a90aa73.svg",c=t.p+"c23e7855e1cb8ac7c36d.svg",i=t.p+"91c54d35a1d823193fe7.svg",r=t.p+"ba3686e4a3d64a9dc5cf.svg",s=t.p+"4843a199da459ce5d58c.svg",d=t.p+"9858829fbac6db396ed7.svg",l=t.p+"7c3d1014174434d5d708.svg",u=t.p+"9f89c012c14bc7187187.svg",m=t.p+"90fd14198e4b9af0dd81.svg",h=t.p+"27d773eaaa631862b96f.svg",p=t.p+"41a01da10b2c84abde09.svg",g=t.p+"14b8fdcb58e3ad112ec3.svg",f={Ash:{icon:a},Clear:{day:{icon:c},night:{icon:i}},Clouds:{icon:r},Drizzle:{icon:s},Dust:{icon:d},Sand:{icon:d},Haze:{icon:l},Fog:{icon:l},Mist:{icon:u},Rain:{icon:m},Smoke:{icon:h},Snow:{icon:p},Squall:{icon:g},Tornado:{icon:g},Thunderstorm:{icon:t.p+"989e9cae9a9800e23f85.svg"}};function w(t,e="d"){return"Clear"===t?"d"===e?f[t].day.icon:f[t].night.icon:f[t].icon}function y(t,e){return new Date(t).toLocaleDateString("en-US",{weekday:e})}const v=document.getElementsByClassName("info-small"),b=document.getElementById("temperature"),C=document.getElementsByClassName("week-day"),$=document.getElementsByClassName("icon"),x=document.getElementById("location"),E=document.getElementsByClassName("icon")[0],B=document.getElementsByClassName("column");function S(t,e){let n=Math.round((o=t,Math.max(...o.map((t=>t.main.temp)))));var o;v[e].textContent=`${n}°C`,C[e].children[0].textContent=y(1e3*t[0].dt,"long"),C[e].children[1].textContent=y(1e3*t[0].dt,"short"),$[e+1].children[0].src=w(t[0].weather[0].main)}const T=document.getElementById("error");function N(t){switch(t){case 1:T.style.height="40px",T.textContent="Location not found";break;case 2:T.style.height="40px",T.textContent="Cannot be empty!"}}function I(){T.style.height="0px",T.textContent=""}const k=document.getElementsByName("Location")[0],q=document.getElementById("search-btn");async function D(t="Tallinn"){Promise.all([n(t),o(t)]).then((function(t){var e;(function(t){x.textContent=t.name,B[0].children[1].textContent=`${t.weather[0].description}`,B[1].textContent=`Pressure: ${t.main.pressure}`,B[2].textContent=`Humidity: ${t.main.humidity}%`,B[3].textContent=`Wind: ${t.wind.speed}`;let e=Math.round(t.main.temp);b.textContent=`${e}°C`,E.children[0].src=w(t.weather[0].main)})((e=t)[0]),function(t){new Date;for(let e=0;e<4;e++){let n=8*e,o=t.list.slice(n,n+8);console.log(o),S(o,e)}}(e[1])}),(function(t){throw t})).catch((t=>{console.log(t),N(1),setTimeout(I,1700)}))}k.addEventListener("input",(function(t){k.validity.valueMissing&&(N(2),setTimeout(I,1700))})),q.addEventListener("click",(()=>{D(k.value),k.value=""})),D()})();