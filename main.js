(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var a=n.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e="6af93c0daeb0749c5631a37be0ef4bc8";async function n(t,n="metric"){let a=`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=${n}&appid=${e}`;try{const t=await fetch(a,{mode:"cors"});if(200==t.status)return await t.json();throw new Error(`Invalid query - ${t.message}`)}catch(t){return t}}async function a(t,n="metric"){let a=`https://api.openweathermap.org/data/2.5/forecast?q=${t}&units=${n}&appid=${e}`;try{const t=await fetch(a,{mode:"cors"});if(200==t.status)return await t.json();throw new Error(`Invalid query - ${t.message}`)}catch(t){return t}}const o=t.p+"db983a0922633a90aa73.svg",c=t.p+"c23e7855e1cb8ac7c36d.svg",i=t.p+"91c54d35a1d823193fe7.svg",r=t.p+"ba3686e4a3d64a9dc5cf.svg",s=t.p+"4843a199da459ce5d58c.svg",d=t.p+"9858829fbac6db396ed7.svg",u=t.p+"7c3d1014174434d5d708.svg",l=t.p+"9f89c012c14bc7187187.svg",m=t.p+"90fd14198e4b9af0dd81.svg",p=t.p+"27d773eaaa631862b96f.svg",g=t.p+"41a01da10b2c84abde09.svg",h=t.p+"14b8fdcb58e3ad112ec3.svg",y={Ash:{icon:o},Clear:{day:{icon:c},night:{icon:i}},Clouds:{icon:r},Drizzle:{icon:s},Dust:{icon:d},Sand:{icon:d},Haze:{icon:u},Fog:{icon:u},Mist:{icon:l},Rain:{icon:m},Smoke:{icon:p},Snow:{icon:g},Squall:{icon:h},Tornado:{icon:h},Thunderstorm:{icon:t.p+"989e9cae9a9800e23f85.svg"}};function f(t,e="d"){return"Clear"===t?"d"===e?y[t].day.icon:y[t].night.icon:y[t].icon}const w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function v(t){let e=w[t],n=e.substring(0,3);return{fullDay:e,shortDay:n}}const b=document.getElementsByClassName("info-small"),C=document.getElementById("temperature"),$=document.getElementsByClassName("week-day"),E=document.getElementsByClassName("icon"),x=document.getElementById("location"),B=document.getElementsByClassName("icon")[0],S=document.getElementsByClassName("column");const T=document.querySelector("span.error");function D(t){switch(t){case 1:T.textContent="Location not found";break;case 2:T.textContent="Cannot be empty!"}}function N(){T.textContent=""}const q=document.getElementsByName("Location")[0],I=document.getElementById("search-btn");async function M(t="Tallinn"){Promise.all([n(t),a(t)]).then((t=>{var e;(function(t){x.textContent=t.name,S[0].children[1].textContent=`${t.weather[0].description}`,S[1].textContent=`Pressure: ${t.main.pressure}`,S[2].textContent=`Humidity: ${t.main.humidity}%`,S[3].textContent=`Wind: ${t.wind.speed}`;let e=Math.round(t.main.temp);C.textContent=`${e}°C`,B.children[0].src=f(t.weather[0].main)})((e=t)[0]),function(t){let e=new Date;for(let n=0;n<4;n++){let a=10*(n+1)-1,o=t.list[a],c=Math.round(o.main.temp);b[n].textContent=`${c}°C`;let i=v(e.getDay()+n);$[n].children[0].textContent=i.fullDay,$[n].children[1].textContent=i.shortDay,E[n+1].children[0].src=f(o.weather[0].main)}}(e[1])})).catch((t=>{console.log(t),D(1),setTimeout(N,2500)}))}q.addEventListener("input",(function(t){q.validity.valueMissing&&(D(2),setTimeout(N,2500))})),I.addEventListener("click",(()=>{M(q.value),q.value=""})),M()})();